
# Introduction
Feeling tedious to write redudx `action` and `reducer` in seperate files?
Not sure what is the `state shape` created by your `reducers`?
Don't know what `action type` deals with what `reducer`?
`redux-shape` make it easy to create a `state shape` by a `shape` definition. With the `shape` defined, your action type and reducer will be determined. 

# Installation
```
npm install --save redux-shape
```

# Concepts
`redux-shape` has two concepts.
### leaf
`leaf` defines your leaf node of the `shape` and it's where you write your `reducers` and  `state` on which the `reducers` work. 
```js
let leaf = {
state:"",
reducers:{
	changeText(state,action){
	  let text = action.text
	  return text;
	},
	clearText(state,action){
	  return '';
	}
}
}
```
### shape
`shape` defines your state shape with `leaf`.
```js
let shape = {
  text:()=>leaf,// a leaf should be returned inside a function.
}
```

# Usage
```js
  import {createStore} from 'redux'
  import reduxShape from 'redux-shape'
  let reducer = reduxShape({shape:shape})
  let store = createStore(reducer)
```
This snippet create a  redux `store` using the reducer generated by `redux-shape`. 
If you call `store.getState()`,you will get an object:
```js
{
	text:''
}
```
You can change your state by dispatching an action.
```js
store.dispatch({type:'text.changeText',text:'I am a text'})
```
And now your state will be
```js
{
	text:'I am a text'
}
```

# Action type
After you apply your `shape`, action types are determined. Action types follow this pattern:
```
shapeProperty1.[...].reducerName
```
So for the `shape`
```js
let shape = {
  text:()=>leaf,// a leaf should be returned inside a function.
}
```
you can change text by `store.dispatch({type:'text.changeText',text:'some text'})`, and clear text by `store.dispatch({type:'text.clearText'})`(changeText and clearText reducers are defined in `leaf`).
Assume that you have defined a nested state shape as:
```
let nestedShape = {
	a:{
		text:()=>leaf
	},
	b:{
		text:()=>leaf
	}
}
```
You can change `state.a.text` by `store.dispatch({type:'a.text.changeText',text:'some text'})`, and change `state.b.text` by `store.dispatch({type:'b.text.changeText',text:'some text'})`.

Pretty simple, right?




